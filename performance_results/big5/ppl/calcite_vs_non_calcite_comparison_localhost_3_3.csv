Query Name,PPL Query,Better Performance,Performance Improvement,Calcite Request Count,Non-Calcite Request Count,Calcite Median (ms),Non-Calcite Median (ms),Median Change,Calcite Average (ms),Non-Calcite Average (ms),Average Change,Calcite Min (ms),Non-Calcite Min (ms),Min Change,Calcite Max (ms),Non-Calcite Max (ms),Max Change,Calcite 95% (ms),Non-Calcite 95% (ms),95% Change,Calcite 99% (ms),Non-Calcite 99% (ms),99% Change,Calcite Requests/s,Non-Calcite Requests/s,Requests/s Change,Calcite Failures,Non-Calcite Failures
Aggregated,,Non-Calcite,33.04% faster,16888,16944,10,7,42.86%,10.942187117438989,7.326882073302768,49.34%,1.9179999981133733,1.2669999996433037,51.38%,82.92720900135464,216.372875000161,-61.67%,23,14,64.29%,30,19,57.89%,18.75336714263674,18.80012780649224,-0.25%,0,0
PPL Query: big5/asc_sort_timestamp,"source = big5
| sort + `@timestamp`
| head 10",Non-Calcite,6.05% faster,322,387,7,7,0.00%,7.678544869568835,7.213993423826089,6.44%,2.9047909993096255,1.8052079994959056,60.91%,25.938332997611724,88.10379200076568,-70.56%,15,12,25.00%,19,18,5.56%,0.3575665691573325,0.4293938539372341,-16.73%,0,0
PPL Query: big5/asc_sort_timestamp_can_match_shortcut,"source = big5 process.name=kernel
| sort + `@timestamp`
| head 10",Non-Calcite,27.14% faster,374,383,12,10,20.00%,13.108483299502186,9.5507089868993,37.25%,5.595290997007396,2.898458000345272,93.04%,31.182750000880333,21.552166999754263,44.68%,23,15,53.33%,27,20,35.00%,0.4153102387106905,0.4249556745683738,-2.27%,0,0
PPL Query: big5/cardinality_agg_high,"source = big5
| stats dc(`agent.name`)",Non-Calcite,10.48% faster,338,411,5,5,0.00%,5.87516207692258,5.259228099791212,11.71%,2.0665840020228643,1.2861249997513369,60.68%,25.31779200035089,46.42341699945973,-45.46%,11,10,10.00%,16,13,23.08%,0.3753338520968272,0.4560229301503959,-17.69%,0,0
PPL Query: big5/cardinality_agg_high copy,"source = big5
| stats bucket_nullable = false dc(`agent.name`)",Non-Calcite,5.49% faster,375,345,5,5,0.00%,5.866719645370419,5.544746376735798,5.81%,2.2808749999967404,1.487499999711872,53.34%,15.63604100010707,27.585207999436538,-43.32%,11,10,10.00%,15,14,7.14%,0.4164206938944089,0.382792970564201,8.78%,0,0
PPL Query: big5/cardinality_agg_high_2,"source = big5
| stats dc(`event.id`)",Non-Calcite,7.33% faster,386,370,5,5,0.00%,6.1347577641287945,5.684938297334255,7.91%,2.211416998761706,1.5093750007508788,46.51%,18.077958000503713,14.112000000750411,28.10%,13,11,18.18%,18,13,38.46%,0.4286357009153116,0.4105315916195779,4.41%,0,0
PPL Query: big5/cardinality_agg_high_2_optimized,"source = big5
| stats bucket_nullable = false dc(`event.id`)",Non-Calcite,10.99% faster,344,367,6,5,20.00%,6.685712825708114,5.95099064855452,12.35%,2.1838749999005813,1.270999999178457,71.82%,57.196415998987504,65.49012499999662,-12.66%,13,12,8.33%,18,14,28.57%,0.3819965831991378,0.4072029570929326,-6.19%,0,0
PPL Query: big5/cardinality_agg_low,"source = big5
| stats dc(`cloud.region`)",Non-Calcite,7.72% faster,364,353,5,5,0.00%,6.052032618014722,5.584890473102097,8.36%,2.0960830006515607,1.276125000003958,64.25%,17.080457999327336,92.46362500016404,-81.53%,12,10,20.00%,15,12,25.00%,0.4042056868735063,0.3916693293019216,3.20%,0,0
PPL Query: big5/cardinality_agg_low_optimized,"source = big5
| stats bucket_nullable = false dc(`cloud.region`)",Non-Calcite,3.65% faster,370,384,5,5,0.00%,5.801246272902652,5.589735874982201,3.78%,2.1964170009596273,1.3434170014079427,63.49%,22.47308299956785,18.82020800076134,19.41%,12,11,9.09%,18,13,38.46%,0.4108684179758168,0.4260652194105889,-3.57%,0,0
PPL Query: big5/composite_date_histogram_daily,"source = big5
| where `@timestamp` >= '2022-12-30 00:00:00' and `@timestamp` < '2023-01-07 12:00:00'
| stats count() by span(`@timestamp`, 1d)",Non-Calcite,42.78% faster,326,341,11,6,83.33%,12.101919966267046,6.92432943687784,74.77%,4.888832998403814,2.2407500000554137,118.18%,30.398750001040753,79.99525000013818,-62.00%,22,13,69.23%,27,17,58.82%,0.3620083898922062,0.3783547911953407,-4.32%,0,0
PPL Query: big5/composite_terms,"source = big5
| where `@timestamp` >= '2023-01-02 00:00:00' and `@timestamp` < '2023-01-02 10:00:00'
| stats count() by `process.name`, `cloud.region`
| sort - `process.name`, + `cloud.region`",Non-Calcite,47.33% faster,373,368,11,6,83.33%,12.325708973117315,6.49194066574202,89.86%,5.408042001363356,1.6277919985441258,232.23%,29.00108399990131,17.490583000835613,65.81%,23,12,91.67%,27,15,80.00%,0.414199783526972,0.4083125019351477,1.44%,0,0
PPL Query: big5/composite_terms copy,"source = big5
| where `@timestamp` >= '2023-01-02 00:00:00' and `@timestamp` < '2023-01-02 10:00:00'
| stats bucket_nullable = false count() by `process.name`, `cloud.region`
| sort - `process.name`, + `cloud.region`",Non-Calcite,64.61% faster,371,349,17,6,183.33%,18.500191601085216,6.548016117506483,182.53%,8.82120900132577,1.5094170012162067,484.41%,54.56070799846202,17.84570800009533,205.74%,31,12,158.33%,39,16,143.75%,0.4119788731595352,0.3872311499330613,6.39%,0,0
PPL Query: big5/composite_terms_keyword,"source = big5
| where `@timestamp` >= '2023-01-02 00:00:00' and `@timestamp` < '2023-01-02 10:00:00'
| stats count() by `process.name`, `cloud.region`, `aws.cloudwatch.log_stream`
| sort - `process.name`, + `cloud.region`, + `aws.cloudwatch.log_stream`",Non-Calcite,44.79% faster,350,339,11,6,83.33%,12.203183097106896,6.737366666634054,81.13%,5.533334002393531,1.6048749985202448,244.78%,30.81758299958892,30.30091700020421,1.71%,21,13,61.54%,26,19,36.84%,0.3886593143014483,0.3761357015109106,3.33%,0,0
PPL Query: big5/composite_terms_keyword_optimized,"source = big5
| where `@timestamp` >= '2023-01-02 00:00:00' and `@timestamp` < '2023-01-02 10:00:00'
| stats bucket_nullable = false count() by `process.name`, `cloud.region`, `aws.cloudwatch.log_stream`
| sort - `process.name`, + `cloud.region`, + `aws.cloudwatch.log_stream`",Non-Calcite,63.58% faster,370,360,17,6,183.33%,18.777437159430544,6.838107975019941,174.60%,9.24079199830885,1.7626669996388955,424.25%,51.906666998547735,32.5567920008325,59.43%,32,13,146.15%,37,19,94.74%,0.4108684179758168,0.3994361431974271,2.86%,0,0
PPL Query: big5/date_histogram_hourly_agg,"source = big5
| stats count() by span(`@timestamp`, 1h)",Calcite,13.67% faster,376,334,7,9,-22.22%,8.02554890166922,9.296661679656095,-13.67%,3.4917500015581027,2.144374999261345,62.83%,27.4325830014277,216.372875000161,-87.32%,15,15,0.00%,21,20,5.00%,0.4175311490781274,0.3705879772998351,12.67%,0,0
PPL Query: big5/date_histogram_minute_agg,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` < '2023-01-03 00:00:00'
| stats count() by span(`@timestamp`, 1m)",Non-Calcite,42.30% faster,356,356,11,6,83.33%,12.1401472218198,7.0048883820449745,73.31%,4.706625000835629,2.0039999999426072,134.86%,27.45270800005528,43.40366699943843,-36.75%,22,14,57.14%,25,16,56.25%,0.3953220454037588,0.3949979638285668,0.08%,0,0
PPL Query: big5/default,"source = big5
| head 10",Non-Calcite,1.00% faster,348,348,5,6,-16.67%,5.877165238521177,5.818340043009519,1.01%,2.1119169978192076,1.5921250014798716,32.65%,19.296791000670055,14.979999999923166,28.82%,12,10,20.00%,14,13,7.69%,0.3864384039340114,0.3861216050908462,0.08%,0,0
PPL Query: big5/desc_sort_timestamp,"source = big5
| sort - `@timestamp`
| head 10",Non-Calcite,11.41% faster,373,376,6,6,0.00%,7.136225772221184,6.322128228722501,12.88%,2.8763340014847927,1.7014999993989477,69.05%,20.291041997552384,19.389291999686975,4.65%,14,12,16.67%,18,18,0.00%,0.414199783526972,0.4171888606728683,-0.72%,0,0
PPL Query: big5/desc_sort_timestamp_can_match_shortcut,"source = big5 process.name=kernel
| sort - `@timestamp`
| head 10",Non-Calcite,25.39% faster,382,370,12,10,20.00%,13.17537511534126,9.830729724278688,34.02%,6.330332998913946,3.2167910012503853,96.79%,29.392874999757623,28.635458000280774,2.65%,22,16,37.50%,26,21,23.81%,0.4241938801804379,0.4105315916195779,3.33%,0,0
PPL Query: big5/keyword_in_range,"source = big5 process.name=kernel
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` < '2023-01-03 00:00:00'
| head 10",Non-Calcite,47.10% faster,356,336,15,8,87.50%,16.2546947809828,8.598402747062599,89.04%,7.513958000345156,2.2227079989534104,238.05%,48.89304199969047,25.97883300040849,88.20%,30,16,87.50%,35,20,75.00%,0.3953220454037588,0.3728070669842653,6.04%,0,0
PPL Query: big5/keyword_terms,"source = big5
| stats count() as station by `aws.cloudwatch.log_stream`
| sort - station
| head 500",Non-Calcite,41.49% faster,366,347,19,11,72.73%,20.07864607926198,11.74742805758886,70.92%,10.559042002569186,3.5210829992138315,199.88%,39.83479099770193,47.54741699980514,-16.22%,33,19,73.68%,35,25,40.00%,0.4064265972409431,0.3850120602486311,5.56%,0,0
PPL Query: big5/keyword_terms_low_cardinality,"source = big5
| stats count() as country by `aws.cloudwatch.log_stream`
| sort - country
| head 50",Non-Calcite,49.36% faster,372,348,18,9,100.00%,18.730978959665272,9.48493952586662,97.48%,9.162750000541564,2.7142920007463545,237.57%,43.02754200034542,91.63283400084764,-53.04%,30,16,87.50%,36,22,63.64%,0.4130893283432537,0.3861216050908462,6.98%,0,0
PPL Query: big5/keyword_terms_low_cardinality copy,"source = big5
| stats bucket_nullable = false count() as country by `aws.cloudwatch.log_stream`
| sort - country
| head 50",Non-Calcite,53.23% faster,353,340,19,8,137.50%,19.79736664329605,9.25859536477861,113.83%,10.314999999536669,2.6038750002044253,296.14%,82.92720900135464,113.9143750006042,-27.20%,30,15,100.00%,34,21,61.90%,0.3919906798526036,0.3772452463531256,3.91%,0,0
PPL Query: big5/multi_terms_keyword,"source = big5
| where `@timestamp` >= '2023-01-05 00:00:00' and `@timestamp` < '2023-01-05 05:00:00'
| stats count() by `process.name`, `cloud.region`
| sort - `count()`
| head 10",Non-Calcite,49.43% faster,351,356,12,6,100.00%,13.085337273422352,6.617454157360166,97.74%,5.956707998848287,1.801833001081832,230.59%,33.36200000012468,21.794000000227243,53.08%,23,13,76.92%,28,20,40.00%,0.3897697694851668,0.3949979638285668,-1.32%,0,0
PPL Query: big5/multi_terms_keyword_optimmized,"source = big5
| where `@timestamp` >= '2023-01-05 00:00:00' and `@timestamp` < '2023-01-05 05:00:00'
| stats bucket_nullable = false count() by `process.name`, `cloud.region`
| sort - `count()`
| head 10",Non-Calcite,59.58% faster,348,362,15,6,150.00%,16.568184172532103,6.696916654704112,147.40%,7.746541999949841,1.6003330001694849,384.06%,41.86833300082071,57.23054199916078,-26.84%,29,13,123.08%,33,15,120.00%,0.3864384039340114,0.4016552328818573,-3.79%,0,0
PPL Query: big5/query_string_on_message,"source = big5 message=monkey OR message=jackal OR message=bear
| head 10",Non-Calcite,16.48% faster,369,344,16,14,14.29%,17.16950858535908,14.340406029067138,19.73%,8.78358300178661,5.0577500005601905,73.67%,36.264458001824096,47.59429200021259,-23.81%,28,21,33.33%,32,24,33.33%,0.4097579627920984,0.3816834257219859,7.36%,0,0
PPL Query: big5/query_string_on_message_filtered,"source = big5
| where `@timestamp` >= '2023-01-03 00:00:00' and `@timestamp` < '2023-01-03 10:00:00'
  AND query_string(['message'], 'monkey jackal bear')
| head 10",Non-Calcite,46.23% faster,339,338,10,6,66.67%,11.885131887973218,6.390370934935448,85.99%,4.871708999417024,1.6799589993752306,189.99%,33.91441599887912,31.78345899868873,6.70%,23,13,76.92%,27,17,58.82%,0.3764443072805457,0.3750261566686955,0.38%,0,0
PPL Query: big5/query_string_on_message_filtered_sorted_num,"source = big5
| where `@timestamp` >= '2023-01-03 00:00:00' and `@timestamp` < '2023-01-03 10:00:00'
  AND query_string(['message'], 'monkey jackal bear')
| sort `@timestamp`
| head 10",Non-Calcite,51.29% faster,367,359,12,6,100.00%,13.370745495997502,6.513079030640593,105.29%,5.037875002017245,1.6923330003919546,197.69%,33.95124999951804,16.12974999989092,110.49%,25,12,108.33%,29,15,93.33%,0.4075370524246615,0.398326598355212,2.31%,0,0
PPL Query: big5/range,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` < '2023-01-03 00:00:00'
| head 10",Non-Calcite,32.28% faster,399,332,9,7,28.57%,10.317572864594348,6.987263174767533,47.66%,4.174042001977796,1.7326659999525873,140.90%,24.045833000855055,20.360332999189268,18.10%,18,13,38.46%,23,18,27.78%,0.4430716183036511,0.368368887615405,20.28%,0,0
PPL Query: big5/range_field_conjunction_big_range_big_term_query,"source = big5
| where `process.name` = 'systemd' and `metrics.size` >= 1 and `metrics.size` <= 100
| head 10",Non-Calcite,25.52% faster,362,382,6,5,20.00%,7.190698215321923,5.355415452901661,34.27%,2.823124999849824,1.5914159994281365,77.40%,20.94045800004096,22.419375000026776,-6.60%,15,10,50.00%,19,14,35.71%,0.4019847765060694,0.4238461297261588,-5.16%,0,0
PPL Query: big5/range_field_conjunction_small_range_big_term_query,"source = big5
| where `metrics.size` >= 20 and `metrics.size` <= 30
| head 10",Non-Calcite,16.34% faster,342,375,6,5,20.00%,6.693749760245614,5.599674149372731,19.54%,2.6248750000377186,1.2669999996433037,107.17%,19.400499999392196,33.250750000661355,-41.65%,13,11,18.18%,16,16,0.00%,0.3797756728317009,0.4160793158306533,-8.73%,0,0
PPL Query: big5/range_field_conjunction_small_range_small_term_query,"source = big5
| where `aws.cloudwatch.log_stream` = 'indigodagger' or (`metrics.size` >= 10 and `metrics.size` <= 20)
| head 10",Non-Calcite,18.01% faster,367,383,6,5,20.00%,7.118850122716618,5.836606929519815,21.97%,2.844375001586741,1.4787499985686736,92.35%,20.936083999913535,21.373625000705943,-2.05%,14,11,27.27%,17,16,6.25%,0.4075370524246615,0.4249556745683738,-4.10%,0,0
PPL Query: big5/range_field_disjunction_big_range_small_term_query,"source = big5
| where `aws.cloudwatch.log_stream` = 'indigodagger' or (`metrics.size` >= 1 and `metrics.size` <= 100)
| head 10",Non-Calcite,21.55% faster,373,363,6,6,0.00%,7.4916064235508655,5.877094212157002,27.47%,2.7681669998855796,1.4323340001283211,93.26%,21.836874999280553,58.291041999837034,-62.54%,15,10,50.00%,19,14,35.71%,0.414199783526972,0.4027647777240724,2.84%,0,0
PPL Query: big5/range_numeric,"source = big5
| where `metrics.size` >= 20 and `metrics.size` <= 200
| head 10",Non-Calcite,18.94% faster,344,369,6,5,20.00%,6.801577369107986,5.513434856416257,23.36%,2.298792001965922,1.3876249995519174,65.66%,20.477041000049212,20.801083999685943,-1.56%,14,11,27.27%,18,16,12.50%,0.3819965831991378,0.4094220467773628,-6.70%,0,0
PPL Query: big5/range_with_asc_sort,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` <= '2023-01-13 00:00:00'
| sort + `@timestamp`
| head 10",Non-Calcite,35.56% faster,379,364,10,7,42.86%,11.63749020039815,7.498871392881783,55.19%,5.003999998734798,2.286291999553214,118.87%,27.302541999233657,21.42529199954879,27.43%,21,13,61.54%,26,18,44.44%,0.4208625146292826,0.4038743225662874,4.21%,0,0
PPL Query: big5/range_with_desc_sort,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` <= '2023-01-13 00:00:00'
| sort - `@timestamp`
| head 10",Non-Calcite,30.92% faster,331,359,10,7,42.86%,11.230168580181784,7.757916679658293,44.76%,4.259084002114832,2.2781250008847564,86.96%,33.43341700019664,25.284875000579632,32.23%,19,14,35.71%,24,21,14.29%,0.3675606658107982,0.398326598355212,-7.72%,0,0
PPL Query: big5/sort_keyword_can_match_shortcut,"source = big5 process.name=kernel
| sort + `meta.file`
| head 10",Non-Calcite,22.84% faster,374,352,12,10,20.00%,13.34954548657701,10.299872738564568,29.61%,6.2890829976822715,3.528834000462666,78.22%,29.481083000064245,77.39337499879184,-61.91%,24,17,41.18%,28,21,33.33%,0.4153102387106905,0.3905597844597065,6.34%,0,0
PPL Query: big5/sort_numeric_asc,"source = big5
| sort + `metrics.size`
| head 10",Non-Calcite,23.73% faster,341,350,7,6,16.67%,8.270598841646992,6.308057065746523,31.11%,3.207458001270425,1.696833000096376,89.03%,23.223000000143657,17.361959000481875,33.76%,16,12,33.33%,20,15,33.33%,0.3786652176479825,0.3883406947752764,-2.49%,0,0
PPL Query: big5/sort_numeric_desc,"source = big5
| sort - `metrics.size`
| head 10",Non-Calcite,23.30% faster,347,381,7,6,16.67%,8.002414881897236,6.137461312281871,30.39%,3.214499996829545,1.966125000762986,63.49%,27.29383300174959,20.17416699891328,35.29%,16,11,45.45%,22,15,46.67%,0.3853279487502931,0.4227365848839437,-8.85%,0,0
PPL Query: big5/term,"source = big5
| where `log.file.path` = '/var/log/messages/birdknight'
| head 10",Non-Calcite,19.05% faster,342,367,6,5,20.00%,6.716996041023239,5.437088771143514,23.54%,2.350708000449231,1.285165999433957,82.91%,20.37716699851444,14.8827920002077,36.92%,13,11,18.18%,17,14,21.43%,0.3797756728317009,0.4072029570929326,-6.74%,0,0
PPL Query: big5/terms_significant_1,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` < '2023-01-03 00:00:00'
| stats count() by `aws.cloudwatch.log_stream`, `process.name`
| head 10",Non-Calcite,35.37% faster,367,367,11,7,57.14%,12.2719842070864,7.93133437866583,54.73%,4.710917000920745,2.338374999453663,101.46%,39.25416699894413,69.94608300010441,-43.88%,21,14,50.00%,26,18,44.44%,0.4075370524246615,0.4072029570929326,0.08%,0,0
PPL Query: big5/terms_significant_2,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` < '2023-01-03 00:00:00'
| stats count() by `process.name`, `aws.cloudwatch.log_stream`
| head 10",Non-Calcite,26.71% faster,332,340,11,8,37.50%,11.637892924819065,8.529016885276018,36.45%,5.0923749986395705,2.2485000008600764,126.48%,42.12304099928588,174.9160409999604,-75.92%,22,15,46.67%,25,19,31.58%,0.3686711209945167,0.3772452463531256,-2.27%,0,0
