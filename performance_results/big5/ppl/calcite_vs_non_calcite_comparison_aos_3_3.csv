Query Name,PPL Query,Better Performance,Performance Improvement,Calcite Request Count,Non-Calcite Request Count,Calcite Median (ms),Non-Calcite Median (ms),Median Change,Calcite Average (ms),Non-Calcite Average (ms),Average Change,Calcite Min (ms),Non-Calcite Min (ms),Min Change,Calcite Max (ms),Non-Calcite Max (ms),Max Change,Calcite 95% (ms),Non-Calcite 95% (ms),95% Change,Calcite 99% (ms),Non-Calcite 99% (ms),99% Change,Calcite Requests/s,Non-Calcite Requests/s,Requests/s Change,Calcite Failures,Non-Calcite Failures
Aggregated,,Non-Calcite,17.42% faster,46346,46365,22,17,29.41%,23.222885480539027,19.177926167928327,21.09%,12.399499999901307,10.786208999888911,14.96%,374.6817090004697,1725.3810410002188,-78.28%,36,29,24.14%,42,36,16.67%,30.919478464426653,30.923718337113844,-0.01%,0,0
PPL Query: big5/asc_sort_timestamp,"source = big5
| sort + `@timestamp`
| head 10",Non-Calcite,12.55% faster,1062,1039,20,18,11.11%,20.71013590490229,18.110368230982616,14.36%,15.809457999239385,12.976500000149828,21.83%,357.74687499997526,95.49991600033536,274.60%,24,21,14.29%,32,23,39.13%,0.7085074467962954,0.6929740828698648,2.24%,0,0
PPL Query: big5/asc_sort_timestamp_can_match_shortcut,"source = big5 process.name=kernel
| sort + `@timestamp`
| head 10",Non-Calcite,19.91% faster,1005,987,24,19,26.32%,24.55531562787402,19.665774398189917,24.86%,19.417917000282618,13.356667000152813,45.38%,344.0954999996393,342.3412920001283,0.51%,28,22,27.27%,33,29,13.79%,0.6704802109512965,0.6582920305991883,1.85%,0,0
PPL Query: big5/cardinality_agg_high,"source = big5
| stats dc(`agent.name`)",Non-Calcite,4.03% faster,980,1023,19,18,5.56%,19.732197241844503,18.937053678404347,4.20%,14.616084000408591,12.827165999624413,13.95%,321.797874999902,783.920792000572,-58.95%,22,21,4.76%,30,25,20.00%,0.6538015987385777,0.6823026821711952,-4.18%,0,0
PPL Query: big5/cardinality_agg_high copy,"source = big5
| stats bucket_nullable = false dc(`agent.name`)",Non-Calcite,4.56% faster,993,928,18,18,0.00%,19.128426265856024,18.255948202585355,4.78%,14.591000000109489,12.754375000440632,14.40%,199.51037499959057,196.0584580001523,1.76%,23,22,4.55%,32,28,14.29%,0.6624744770891914,0.6189412405228437,7.03%,0,0
PPL Query: big5/cardinality_agg_high_2,"source = big5
| stats dc(`event.id`)",Non-Calcite,1.81% faster,994,992,19,18,5.56%,19.32462735412564,18.974868749998837,1.84%,14.55629200063413,12.946417000421206,12.43%,192.45712500014633,343.1689999997616,-43.92%,22,22,0.00%,30,29,3.45%,0.6631416215777002,0.6616268433175225,0.23%,0,0
PPL Query: big5/cardinality_agg_high_2_optimized,"source = big5
| stats bucket_nullable = false dc(`event.id`)",Non-Calcite,4.53% faster,957,1013,19,18,5.56%,20.193077237195805,19.278440911171913,4.74%,14.525208000122802,12.814124999749763,13.35%,339.3090839999786,376.547834000121,-9.89%,23,21,9.52%,31,24,29.17%,0.6384572755028763,0.6756330567345266,-5.50%,0,0
PPL Query: big5/cardinality_agg_low,"source = big5
| stats dc(`cloud.region`)",Non-Calcite,2.31% faster,999,1025,16,15,6.67%,17.10048819619384,16.70552881854347,2.36%,12.521916999958194,10.786208999888911,16.09%,337.6880420000816,624.5744580000974,-45.93%,20,19,5.26%,24,23,4.35%,0.666477344020244,0.6836366072585288,-2.51%,0,0
PPL Query: big5/cardinality_agg_low_optimized,"source = big5
| stats bucket_nullable = false dc(`cloud.region`)",Calcite,3.07% faster,984,992,16,15,6.67%,16.74821837297059,17.279451857863506,-3.07%,12.399499999901307,10.999083000569954,12.73%,61.089791000085825,1385.6612910003605,-95.59%,20,19,5.26%,23,23,0.00%,0.6564701766926127,0.6616268433175225,-0.78%,0,0
PPL Query: big5/composite_date_histogram_daily,"source = big5
| where `@timestamp` >= '2022-12-30 00:00:00' and `@timestamp` < '2023-01-07 12:00:00'
| stats count() by span(`@timestamp`, 1d)",Non-Calcite,28.88% faster,960,967,22,16,37.50%,23.05727883333854,16.399018463292688,40.60%,18.459332999555045,11.380750000171249,62.20%,201.5600409995386,177.29379199954565,13.69%,26,20,30.00%,33,23,43.48%,0.6404587089684026,0.6449527797258511,-0.70%,0,0
PPL Query: big5/composite_terms,"source = big5
| where `@timestamp` >= '2023-01-02 00:00:00' and `@timestamp` < '2023-01-02 10:00:00'
| stats count() by `process.name`, `cloud.region`
| sort - `process.name`, + `cloud.region`",Non-Calcite,33.51% faster,956,1001,24,16,50.00%,24.907216881789665,16.560556927070355,50.40%,18.920665999758057,11.353832999702718,66.65%,333.5334169996713,224.92037499978323,48.29%,28,20,40.00%,38,25,52.00%,0.6377901310143675,0.6676295062105243,-4.47%,0,0
PPL Query: big5/composite_terms copy,"source = big5
| where `@timestamp` >= '2023-01-02 00:00:00' and `@timestamp` < '2023-01-02 10:00:00'
| stats bucket_nullable = false count() by `process.name`, `cloud.region`
| sort - `process.name`, + `cloud.region`",Non-Calcite,40.83% faster,981,973,30,16,87.50%,30.681629790016903,18.155539865367334,68.99%,25.742499999978463,11.607749999711814,121.77%,144.53083300031722,349.2362500001036,-58.62%,34,20,70.00%,43,32,34.38%,0.6544687432270864,0.6489545549878523,0.85%,0,0
PPL Query: big5/composite_terms_keyword,"source = big5
| where `@timestamp` >= '2023-01-02 00:00:00' and `@timestamp` < '2023-01-02 10:00:00'
| stats count() by `process.name`, `cloud.region`, `aws.cloudwatch.log_stream`
| sort - `process.name`, + `cloud.region`, + `aws.cloudwatch.log_stream`",Non-Calcite,31.67% faster,961,997,24,16,50.00%,24.270344570245456,16.585108022085123,46.34%,20.00812499954918,11.25899999988178,77.71%,57.96641699998872,187.35500000002503,-69.06%,28,20,40.00%,35,27,29.63%,0.6411258534569113,0.6649616560358569,-3.58%,0,0
PPL Query: big5/composite_terms_keyword_optimized,"source = big5
| where `@timestamp` >= '2023-01-02 00:00:00' and `@timestamp` < '2023-01-02 10:00:00'
| stats bucket_nullable = false count() by `process.name`, `cloud.region`, `aws.cloudwatch.log_stream`
| sort - `process.name`, + `cloud.region`, + `aws.cloudwatch.log_stream`",Non-Calcite,47.37% faster,974,997,31,16,93.75%,32.069441034914036,16.877501011042412,90.01%,26.137040999856257,11.418166999646928,128.91%,354.2494590001297,345.93949999998586,2.40%,35,20,75.00%,43,26,65.38%,0.6497987318075251,0.6649616560358569,-2.28%,0,0
PPL Query: big5/date_histogram_hourly_agg,"source = big5
| stats count() by span(`@timestamp`, 1h)",Non-Calcite,12.47% faster,1008,1030,17,16,6.25%,18.442377757945373,16.142469855336476,14.25%,13.285209000059696,11.451084000327684,16.02%,348.5048749998896,60.4974999996557,476.06%,22,20,10.00%,28,24,16.67%,0.6724816444168227,0.6869714199768632,-2.11%,0,0
PPL Query: big5/date_histogram_minute_agg,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` < '2023-01-03 00:00:00'
| stats count() by span(`@timestamp`, 1m)",Non-Calcite,28.39% faster,929,930,22,16,37.50%,23.558579673851824,16.870410274187115,39.64%,18.21025000026566,11.117166000076397,63.80%,336.9003750003685,339.886333999857,-0.88%,27,20,35.00%,39,25,56.00%,0.6197772298246312,0.6202751656101774,-0.08%,0,0
PPL Query: big5/default,"source = big5
| head 10",Non-Calcite,1.68% faster,982,959,18,17,5.88%,18.51456193888053,18.202900805008312,1.71%,13.425707999886072,12.59270800073864,6.61%,333.57183399948553,342.60058299969387,-2.64%,22,21,4.76%,28,31,-9.68%,0.6551358877155952,0.6396170793765162,2.43%,0,0
PPL Query: big5/desc_sort_timestamp,"source = big5
| sort - `@timestamp`
| head 10",Non-Calcite,13.87% faster,918,967,20,18,11.11%,21.046447274522393,18.12630558118359,16.11%,15.824292000161222,12.981417000446529,21.90%,341.87925000060204,94.50350000042818,261.76%,24,21,14.29%,29,24,20.83%,0.612438640451035,0.6449527797258511,-5.04%,0,0
PPL Query: big5/desc_sort_timestamp_can_match_shortcut,"source = big5 process.name=kernel
| sort - `@timestamp`
| head 10",Non-Calcite,20.28% faster,992,950,24,19,26.32%,24.79837930343044,19.77046141894741,25.43%,19.810374999906344,13.838916999702631,43.15%,330.5317089998425,340.9535830005552,-3.06%,28,23,21.74%,35,31,12.90%,0.6618073326006827,0.6336144164835146,4.45%,0,0
PPL Query: big5/keyword_in_range,"source = big5 process.name=kernel
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` < '2023-01-03 00:00:00'
| head 10",Non-Calcite,32.24% faster,1005,945,28,16,75.00%,28.55790800596462,19.35108288782729,47.58%,23.562709000088944,11.43191699975432,106.11%,345.40170899981604,875.18637499943,-60.53%,32,20,60.00%,42,46,-8.70%,0.6704802109512965,0.6302796037651802,6.38%,0,0
PPL Query: big5/keyword_terms,"source = big5
| stats count() as station by `aws.cloudwatch.log_stream`
| sort - station
| head 500",Non-Calcite,0.38% faster,966,981,25,24,4.17%,26.098413134578564,25.99872597960421,0.38%,21.40858400025536,18.94324999921082,13.01%,184.65000000014695,1547.8215419998378,-88.07%,29,28,3.57%,37,30,23.33%,0.6444615758994551,0.6542902553371871,-1.50%,0,0
PPL Query: big5/keyword_terms_low_cardinality,"source = big5
| stats count() as country by `aws.cloudwatch.log_stream`
| sort - country
| head 50",Non-Calcite,12.12% faster,971,957,24,22,9.09%,25.05394231512085,22.01861363218739,13.79%,20.491457999924023,16.919791999498557,21.11%,181.89879199962888,107.17300000032992,69.72%,28,25,12.00%,34,31,9.68%,0.6477972983419988,0.6382831542891826,1.49%,0,0
PPL Query: big5/keyword_terms_low_cardinality copy,"source = big5
| stats bucket_nullable = false count() as country by `aws.cloudwatch.log_stream`
| sort - country
| head 50",Non-Calcite,15.59% faster,955,942,25,22,13.64%,26.226429892155434,22.13732700214863,18.47%,20.670541000072262,16.645749999952386,24.18%,362.2918330001994,199.97837500068272,81.17%,29,26,11.54%,31,34,-8.82%,0.6371229865258589,0.6282787161341796,1.41%,0,0
PPL Query: big5/multi_terms_keyword,"source = big5
| where `@timestamp` >= '2023-01-05 00:00:00' and `@timestamp` < '2023-01-05 05:00:00'
| stats count() by `process.name`, `cloud.region`
| sort - `count()`
| head 10",Non-Calcite,31.60% faster,996,952,24,16,50.00%,24.848614329320604,16.99707815018768,46.19%,19.775208000282873,11.419583999668248,73.17%,327.6010839999799,326.6841670001668,0.28%,28,20,40.00%,40,24,66.67%,0.6644759105547177,0.6349483415708482,4.65%,0,0
PPL Query: big5/multi_terms_keyword_optimmized,"source = big5
| where `@timestamp` >= '2023-01-05 00:00:00' and `@timestamp` < '2023-01-05 05:00:00'
| stats bucket_nullable = false count() by `process.name`, `cloud.region`
| sort - `count()`
| head 10",Non-Calcite,35.90% faster,1026,1027,27,16,68.75%,28.39069404289012,18.19720428237972,56.02%,22.30704099929426,11.526917000082904,93.52%,341.7485410000154,879.1972919998443,-61.13%,32,20,60.00%,41,22,86.36%,0.6844902452099803,0.6849705323458626,-0.07%,0,0
PPL Query: big5/query_string_on_message,"source = big5 message=monkey OR message=jackal OR message=bear
| head 10",Non-Calcite,19.04% faster,962,1007,22,19,15.79%,23.499155613328973,19.02375293743757,23.53%,17.620042000089597,13.622333000057552,29.35%,359.97137499998644,86.07991700046114,318.18%,26,22,18.18%,48,30,60.00%,0.6417929979454201,0.6716312814725254,-4.44%,0,0
PPL Query: big5/query_string_on_message_filtered,"source = big5
| where `@timestamp` >= '2023-01-03 00:00:00' and `@timestamp` < '2023-01-03 10:00:00'
  AND query_string(['message'], 'monkey jackal bear')
| head 10",Non-Calcite,27.31% faster,1054,979,23,16,43.75%,23.596711000946673,17.151432990793516,37.58%,18.632457999956387,11.370750000423868,63.86%,195.48437499997817,365.9884580001744,-46.59%,27,20,35.00%,34,27,25.93%,0.7031702908882254,0.6529563302498534,7.69%,0,0
PPL Query: big5/query_string_on_message_filtered_sorted_num,"source = big5
| where `@timestamp` >= '2023-01-03 00:00:00' and `@timestamp` < '2023-01-03 10:00:00'
  AND query_string(['message'], 'monkey jackal bear')
| sort `@timestamp`
| head 10",Non-Calcite,37.66% faster,1009,1027,25,16,56.25%,26.538224687822876,16.545224509249884,60.40%,20.948999999745865,11.50258399957238,82.12%,351.2635000006412,189.844708000237,85.03%,30,20,50.00%,35,23,52.17%,0.6731487889053315,0.6849705323458626,-1.73%,0,0
PPL Query: big5/range,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` < '2023-01-03 00:00:00'
| head 10",Non-Calcite,20.99% faster,1024,1028,20,16,25.00%,20.78270397850801,16.421230123531288,26.56%,15.515458000663784,11.239875000683242,38.04%,333.79462499942747,195.1682909993906,71.03%,23,20,15.00%,32,28,14.29%,0.6831559562329628,0.6856374948895294,-0.36%,0,0
PPL Query: big5/range_field_conjunction_big_range_big_term_query,"source = big5
| where `process.name` = 'systemd' and `metrics.size` >= 1 and `metrics.size` <= 100
| head 10",Non-Calcite,10.24% faster,950,1014,18,16,12.50%,19.771667531570195,17.74610273566397,11.41%,14.32854100039549,11.132667000310905,28.71%,360.06654199991317,1384.8499169998831,-74.00%,22,19,15.79%,30,24,25.00%,0.6337872640833151,0.6763000192781934,-6.29%,0,0
PPL Query: big5/range_field_conjunction_small_range_big_term_query,"source = big5
| where `metrics.size` >= 20 and `metrics.size` <= 30
| head 10",Non-Calcite,11.71% faster,1035,1002,18,16,12.50%,18.80523423479262,16.603093097798453,13.26%,14.095084000018687,11.028874999283287,27.80%,341.4615830006369,342.88554199974897,-0.42%,22,19,15.79%,29,24,20.83%,0.6904945456065591,0.6682964687541911,3.32%,0,0
PPL Query: big5/range_field_conjunction_small_range_small_term_query,"source = big5
| where `aws.cloudwatch.log_stream` = 'indigodagger' or (`metrics.size` >= 10 and `metrics.size` <= 20)
| head 10",Non-Calcite,13.39% faster,995,985,18,16,12.50%,19.23126069949689,16.65660907917858,15.46%,14.545500000167522,11.040416000469122,31.75%,331.8949580007029,317.2063749998415,4.63%,22,20,10.00%,32,24,33.33%,0.663808766066209,0.6569581055118545,1.04%,0,0
PPL Query: big5/range_field_disjunction_big_range_small_term_query,"source = big5
| where `aws.cloudwatch.log_stream` = 'indigodagger' or (`metrics.size` >= 1 and `metrics.size` <= 100)
| head 10",Non-Calcite,9.02% faster,1013,981,18,16,12.50%,18.730400435363144,17.04091074208323,9.91%,14.36879199991381,11.260375000347269,27.60%,111.28587499979405,346.982625000237,-67.93%,22,20,10.00%,27,26,3.85%,0.6758173668593664,0.6542902553371871,3.29%,0,0
PPL Query: big5/range_numeric,"source = big5
| where `metrics.size` >= 20 and `metrics.size` <= 200
| head 10",Non-Calcite,1.21% faster,993,987,18,16,12.50%,18.24473620747107,18.023604273540037,1.23%,14.13216699984332,10.930417000054147,29.29%,87.32341699987956,437.1678750003411,-80.03%,22,19,15.79%,25,38,-34.21%,0.6624744770891914,0.6582920305991883,0.64%,0,0
PPL Query: big5/range_with_asc_sort,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` <= '2023-01-13 00:00:00'
| sort + `@timestamp`
| head 10",Non-Calcite,19.65% faster,1020,957,22,16,37.50%,22.31503746763391,17.92998754964034,24.46%,17.239540999980818,11.261707999437933,53.08%,354.89987499931885,855.6813329996658,-58.52%,26,20,30.00%,33,22,50.00%,0.6804873782789278,0.6382831542891826,6.61%,0,0
PPL Query: big5/range_with_desc_sort,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` <= '2023-01-13 00:00:00'
| sort - `@timestamp`
| head 10",Non-Calcite,25.09% faster,963,1000,22,16,37.50%,22.238656023889657,16.65965557999516,33.49%,17.372290999446705,11.331874999996217,53.30%,221.66604199992435,321.7912919999435,-31.11%,26,20,30.00%,35,25,40.00%,0.6424601424339288,0.6669625436668574,-3.67%,0,0
PPL Query: big5/sort_keyword_can_match_shortcut,"source = big5 process.name=kernel
| sort + `meta.file`
| head 10",Non-Calcite,9.89% faster,1024,966,39,33,18.18%,39.83388652636899,35.89534439546561,10.97%,34.79141699972388,27.854709000166626,24.90%,374.6817090004697,1584.445333000076,-76.35%,43,37,16.22%,46,46,0.00%,0.6831559562329628,0.6442858171821843,6.03%,0,0
PPL Query: big5/sort_numeric_asc,"source = big5
| sort + `metrics.size`
| head 10",Non-Calcite,7.41% faster,948,990,22,19,15.79%,22.14337918353387,20.50364853838332,8.00%,17.69916600005672,13.677042000381334,29.41%,57.33237499953248,946.7278749998512,-93.94%,26,23,13.04%,33,33,0.00%,0.6324529751062976,0.6602929182301889,-4.22%,0,0
PPL Query: big5/sort_numeric_desc,"source = big5
| sort - `metrics.size`
| head 10",Non-Calcite,11.01% faster,983,971,22,19,15.79%,22.822294418102896,20.309288691046543,12.37%,18.125957999927778,14.440250000006928,25.52%,348.18616600023233,356.1919169997054,-2.25%,26,23,13.04%,34,31,9.68%,0.6558030322041039,0.6476206299005185,1.26%,0,0
PPL Query: big5/term,"source = big5
| where `log.file.path` = '/var/log/messages/birdknight'
| head 10",Non-Calcite,12.53% faster,954,993,18,16,12.50%,18.94104704192528,16.567548382669344,14.33%,13.543875000323167,11.47612500062678,18.02%,349.1033749996859,337.14529200005927,3.55%,22,19,15.79%,32,25,28.00%,0.6364558420373501,0.6622938058611894,-3.90%,0,0
PPL Query: big5/terms_significant_1,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` < '2023-01-03 00:00:00'
| stats count() by `aws.cloudwatch.log_stream`, `process.name`
| head 10",Non-Calcite,13.12% faster,1003,979,23,16,43.75%,23.689372169493968,20.580316868231083,15.11%,18.96633300020767,11.423959000239847,66.02%,221.3012920001347,1725.3810410002188,-87.17%,27,20,35.00%,31,33,-6.06%,0.6691459219742789,0.6529563302498534,2.48%,0,0
PPL Query: big5/terms_significant_2,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` < '2023-01-03 00:00:00'
| stats count() by `process.name`, `aws.cloudwatch.log_stream`
| head 10",Non-Calcite,17.49% faster,936,950,22,16,37.50%,22.559045804478064,18.613528206315095,21.20%,17.624291999709385,11.597041000641184,51.97%,361.22495800009347,1721.278624999286,-79.01%,26,20,30.00%,35,24,45.83%,0.6244472412441925,0.6336144164835146,-1.45%,0,0
