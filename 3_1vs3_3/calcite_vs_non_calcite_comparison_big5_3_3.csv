Query Name,PPL Query,Better Performance,Performance Improvement,Calcite Request Count,Non-Calcite Request Count,Calcite Median (ms),Non-Calcite Median (ms),Median Change,Calcite Average (ms),Non-Calcite Average (ms),Average Change,Calcite Min (ms),Non-Calcite Min (ms),Min Change,Calcite Max (ms),Non-Calcite Max (ms),Max Change,Calcite 95% (ms),Non-Calcite 95% (ms),95% Change,Calcite 99% (ms),Non-Calcite 99% (ms),99% Change,Calcite Requests/s,Non-Calcite Requests/s,Requests/s Change,Calcite Failures,Non-Calcite Failures
Aggregated,N/A,Non-Calcite,26.68% faster,22500,22587,47,38,23.68%,55.39112924352909,40.61016703829203,36.40%,27.321582892909646,23.86566693894565,14.48%,1363.732208032161,361.68954195454717,277.04%,93,53,75.47%,250,68,267.65%,31.82389871758704,31.30863173965516,1.65%,0,0
PPL Query: big5/asc_sort_timestamp,"source = big5
| sort + `@timestamp`
| head 10",Non-Calcite,21.63% faster,525,481,45,39,15.38%,51.728015321173835,40.541131166051954,27.59%,34.30212498642504,28.72833306901157,19.40%,424.29883289150894,207.6951670460403,104.29%,83,53,56.60%,280,74,278.38%,0.7425576367436976,0.666730945533897,11.37%,0,0
PPL Query: big5/asc_sort_timestamp_can_match_shortcut,"source = big5 process.name=kernel
| sort + `@timestamp`
| head 10",Non-Calcite,26.74% faster,481,474,49,40,22.50%,56.92188937038865,41.701975476511514,36.50%,36.19866701774299,29.867999954149127,21.20%,1361.7747919633985,251.0500841308385,442.43%,81,51,58.82%,230,65,253.85%,0.6803242348070829,0.657028000380597,3.55%,0,0
PPL Query: big5/asc_sort_timestamp_no_can_match_shortcut,"source = big5 process.name=kernel
| sort + `@timestamp`
| head 10",Non-Calcite,28.49% faster,433,472,49,39,25.64%,57.98917091408568,41.46748146938034,39.84%,37.35545789822936,31.338584143668413,19.20%,1009.9338749423623,282.54662500694394,257.44%,97,51,90.20%,220,70,214.29%,0.6124332508762306,0.6542557303367971,-6.39%,0,0
PPL Query: big5/asc_sort_with_after_timestamp,"source = big5
| sort + `@timestamp`
| head 10",Non-Calcite,17.39% faster,481,479,45,39,15.38%,50.165314822246685,41.440842939066336,21.05%,33.61604199744761,27.916792081668973,20.42%,287.2705420013517,328.9926249999553,-12.68%,78,50,56.00%,180,110,63.64%,0.6803242348070829,0.663958675490097,2.46%,0,0
PPL Query: big5/cardinality_agg_high,"source = big5
| stats dc(`agent.name`)",Non-Calcite,17.66% faster,493,505,43,39,10.26%,48.79184973871989,40.17567205344244,21.45%,32.23245800472796,29.112334130331874,10.72%,299.221791094169,268.9112911466509,11.27%,76,48,58.33%,240,60,300.00%,0.697296980789796,0.6999981860594968,-0.39%,0,0
PPL Query: big5/cardinality_agg_high copy,"source = big5
| stats bucket_nullable = false dc(`agent.name`)",Non-Calcite,25.65% faster,459,474,44,38,15.79%,52.48694311551474,39.024251329964066,34.50%,30.426458921283484,29.81120813637972,2.06%,984.9683749489486,83.8187918998301,1075.12%,95,48,97.92%,220,57,285.96%,0.6492075338387756,0.657028000380597,-1.19%,0,0
PPL Query: big5/cardinality_agg_high_2,"source = big5
| stats dc(`event.id`)",Non-Calcite,19.40% faster,477,474,43,39,10.26%,50.754269046134915,40.906500961348605,24.07%,30.990874860435724,29.7086660284549,4.32%,472.0024580601603,269.4617079105228,75.16%,84,50,68.00%,260,170,52.94%,0.6746666528128452,0.657028000380597,2.68%,0,0
PPL Query: big5/cardinality_agg_high_2_optimized,"source = big5
| stats bucket_nullable = false dc(`event.id`)",Non-Calcite,21.54% faster,502,507,43,39,10.26%,52.66506603150907,41.323201920050955,27.45%,32.246417133137584,29.135208809748292,10.68%,359.633875079453,272.0403329003602,32.20%,97,54,79.63%,260,99,162.63%,0.7100265402768308,0.7027704561032968,1.03%,0,0
PPL Query: big5/cardinality_agg_low,"source = big5
| stats dc(`cloud.region`)",Non-Calcite,18.73% faster,474,468,41,36,13.89%,48.71856849709376,39.59118448094361,23.05%,31.00795904174447,23.86566693894565,29.93%,372.1370829734951,263.4478339459747,41.26%,92,48,91.67%,240,190,26.32%,0.6704234663171669,0.6487111902491971,3.35%,0,0
PPL Query: big5/cardinality_agg_low_optimized,"source = big5
| stats bucket_nullable = false dc(`cloud.region`)",Non-Calcite,23.09% faster,425,521,41,37,10.81%,49.92635891882374,38.396922022375975,30.03%,30.765333212912083,27.56345900706947,11.62%,285.6096248142421,273.5155001282692,4.42%,110,47,134.04%,210,54,288.89%,0.6011180868877551,0.7221763464098967,-16.76%,0,0
PPL Query: big5/composite_date_histogram_daily,"source = big5
| where `@timestamp` >= '2022-12-30 00:00:00' and `@timestamp` < '2023-01-07 12:00:00'
| stats count() by span(`@timestamp`, 1d)",Non-Calcite,33.66% faster,476,468,48,37,29.73%,57.43064232681244,38.10107472161643,50.73%,36.34620807133615,27.860957896336913,30.46%,303.6606670357287,168.45704102888703,80.26%,110,50,120.00%,290,65,346.15%,0.6732522573142857,0.6487111902491971,3.78%,0,0
PPL Query: big5/composite_terms,"source = big5
| where `@timestamp` >= '2023-01-02 00:00:00' and `@timestamp` < '2023-01-02 10:00:00'
| stats count() by `process.name`, `cloud.region`
| sort - `process.name`, + `cloud.region`",Non-Calcite,32.44% faster,501,429,49,37,32.43%,57.96420386390103,39.16005479738481,48.02%,36.37020802125335,28.313790913671255,28.45%,1361.350208055228,250.36620791070163,443.74%,86,47,82.98%,280,82,241.46%,0.7086121447782714,0.5946519243950973,19.16%,0,0
PPL Query: big5/composite_terms copy,"source = big5
| where `@timestamp` >= '2023-01-02 00:00:00' and `@timestamp` < '2023-01-02 10:00:00'
| stats bucket_nullable = false count() by `process.name`, `cloud.region`
| sort - `process.name`, + `cloud.region`",Non-Calcite,38.07% faster,476,449,56,37,51.35%,62.84871871902083,38.92143765715405,61.48%,43.94533415324986,26.986083015799522,62.84%,414.3465000670403,254.2703750077635,62.96%,100,50,100.00%,280,64,337.50%,0.6732522573142857,0.6223746248330971,8.17%,0,0
PPL Query: big5/composite_terms_keyword,"source = big5
| where `@timestamp` >= '2023-01-02 00:00:00' and `@timestamp` < '2023-01-02 10:00:00'
| stats count() by `process.name`, `cloud.region`, `aws.cloudwatch.log_stream`
| sort - `process.name`, + `cloud.region`, + `aws.cloudwatch.log_stream`",Non-Calcite,28.17% faster,438,540,49,37,32.43%,54.958557838693125,39.47650871446563,39.22%,38.42925000935793,27.95949997380376,37.45%,293.2972500566393,323.42704106122255,-9.32%,85,50,70.00%,170,100,70.00%,0.6195052283690277,0.7485129118259967,-17.24%,0,0
PPL Query: big5/composite_terms_keyword_optimized,"source = big5
| where `@timestamp` >= '2023-01-02 00:00:00' and `@timestamp` < '2023-01-02 10:00:00'
| stats bucket_nullable = false count() by `process.name`, `cloud.region`, `aws.cloudwatch.log_stream`
| sort - `process.name`, + `cloud.region`, + `aws.cloudwatch.log_stream`",Non-Calcite,39.89% faster,485,446,55,37,48.65%,63.34749493056658,38.08038696832537,66.35%,44.56583294086158,28.94354215823114,53.98%,482.64362500049174,169.28224987350404,185.11%,97,48,102.08%,310,56,453.57%,0.6859818168013206,0.6182162197673972,10.96%,0,0
PPL Query: big5/date_histogram_hourly_agg,"source = big5
| stats count() by span(`@timestamp`, 1h)",Non-Calcite,24.21% faster,499,478,43,37,16.22%,51.25528839622103,38.84759435048288,31.94%,32.21870795823634,25.50454204902053,26.33%,985.5006251018494,322.05770909786224,206.00%,78,49,59.18%,280,62,351.61%,0.7057833537811525,0.662572540468197,6.52%,0,0
PPL Query: big5/date_histogram_minute_agg,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` < '2023-01-03 00:00:00'
| stats count() by span(`@timestamp`, 1m)",Non-Calcite,29.98% faster,456,470,48,36,33.33%,55.36288501216883,38.7654764211162,42.81%,35.85495799779892,27.1765838842839,31.93%,339.41354183480144,253.52549995295703,33.88%,100,48,108.33%,170,61,178.69%,0.6449643473430973,0.6514834602929971,-1.00%,0,0
PPL Query: big5/default,"source = big5
| head 10",Non-Calcite,24.29% faster,481,503,41,37,10.81%,51.95882000036832,39.33968521778659,32.08%,27.321582892909646,28.15195801667869,-2.95%,344.57933297380805,268.5300000011921,28.32%,88,48,83.33%,300,90,233.33%,0.6803242348070829,0.6972259160156968,-2.42%,0,0
PPL Query: big5/desc_sort_timestamp,"source = big5
| sort - `@timestamp`
| head 10",Non-Calcite,18.75% faster,465,488,45,39,15.38%,51.19965922848512,41.600061303336695,23.08%,34.501083893701434,26.19154192507267,31.73%,446.4188751298934,361.68954195454717,23.43%,91,50,82.00%,160,82,95.12%,0.6576939068301321,0.676433890687197,-2.77%,0,0
PPL Query: big5/desc_sort_timestamp_can_match_shortcut,"source = big5 process.name=kernel
| sort - `@timestamp`
| head 10",Non-Calcite,27.87% faster,515,463,49,40,22.50%,57.489423543323305,41.46999204038495,38.63%,37.70662494935095,31.55112499371171,19.51%,1363.732208032161,258.35370901040733,427.85%,92,52,76.92%,200,60,233.33%,0.7284136817581033,0.6417805151396971,13.50%,0,0
PPL Query: big5/desc_sort_timestamp_no_can_match_shortcut,"source = big5 process.name=kernel
| sort - `@timestamp`
| head 10",Non-Calcite,27.87% faster,497,448,49,40,22.50%,58.60059581026135,42.26615364677855,38.65%,37.372958147898316,30.766166979447007,21.47%,564.994249958545,329.46754107251763,71.49%,110,55,100.00%,300,76,294.74%,0.7029545627840337,0.6209884898111971,13.20%,0,0
PPL Query: big5/desc_sort_with_after_timestamp,"source = big5
| sort - `@timestamp`
| head 10",Non-Calcite,24.10% faster,467,478,45,39,15.38%,54.78429389973939,41.58132948579508,31.75%,33.47766702063382,30.32191703096032,10.41%,391.01629122160375,255.66495885141194,52.94%,110,51,115.69%,280,71,294.37%,0.6605226978272509,0.662572540468197,-0.31%,0,0
PPL Query: big5/keyword_in_range,"source = big5 process.name=kernel
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` < '2023-01-03 00:00:00'
| head 10",Non-Calcite,36.52% faster,486,462,53,37,43.24%,62.226679958422274,39.50376613105917,57.52%,41.50633397512138,28.793874895200133,44.15%,432.7765421476215,334.82266613282263,29.26%,110,49,124.49%,230,70,228.57%,0.68739621229988,0.6403943801177971,7.34%,0,0
PPL Query: big5/keyword_terms,"source = big5
| stats count() as station by `aws.cloudwatch.log_stream`
| sort - station
| head 500",Non-Calcite,21.39% faster,496,472,50,45,11.11%,59.223867002254984,46.555734031845546,27.21%,39.691415848210454,35.12233402580023,13.01%,565.8628749661148,270.8826248999685,108.90%,93,54,72.22%,300,67,347.76%,0.7015401672854743,0.6542557303367971,7.23%,0,0
PPL Query: big5/keyword_terms_low_cardinality,"source = big5
| stats count() as country by `aws.cloudwatch.log_stream`
| sort - country
| head 50",Non-Calcite,23.69% faster,479,487,48,41,17.07%,56.714038185713065,43.27960607014382,31.04%,38.66025013849139,33.08983403258026,16.83%,420.9372920449823,270.2095420099795,55.78%,110,52,111.54%,260,69,276.81%,0.6774954438099641,0.675047755665297,0.36%,0,0
PPL Query: big5/keyword_terms_low_cardinality copy,"source = big5
| stats bucket_nullable = false count() as country by `aws.cloudwatch.log_stream`
| sort - country
| head 50",Non-Calcite,25.42% faster,503,491,50,42,19.05%,57.59386390273572,42.95063422767108,34.09%,39.199291029945016,33.59450004063547,16.68%,860.4143329430372,146.73404186032712,486.38%,91,52,75.00%,200,66,203.03%,0.7114409357753902,0.6805922957528969,4.53%,0,0
PPL Query: big5/multi_terms_keyword,"source = big5
| where `@timestamp` >= '2023-01-05 00:00:00' and `@timestamp` < '2023-01-05 05:00:00'
| stats count() by `process.name`, `cloud.region`
| sort - `count()`
| head 10",Non-Calcite,33.21% faster,504,486,49,37,32.43%,58.45461711509242,39.03975902525747,49.73%,37.838000105693936,28.35112507455051,33.46%,340.00316611491144,335.0939580705017,1.47%,110,49,124.49%,250,67,273.13%,0.7128553312739496,0.673661620643397,5.82%,0,0
PPL Query: big5/multi_terms_keyword_optimmized,"source = big5
| where `@timestamp` >= '2023-01-05 00:00:00' and `@timestamp` < '2023-01-05 05:00:00'
| stats bucket_nullable = false count() by `process.name`, `cloud.region`
| sort - `count()`
| head 10",Non-Calcite,34.80% faster,484,518,52,36,44.44%,59.07896579645405,38.52204665358261,53.36%,41.02779203094542,27.751791989430785,47.84%,321.9700411427766,322.4042078945786,-0.13%,88,49,79.59%,270,59,357.63%,0.6845674213027612,0.7180179413441967,-4.66%,0,0
PPL Query: big5/query_string_on_message,"source = big5 message=monkey OR message=jackal OR message=bear
| head 10",Non-Calcite,24.56% faster,470,480,47,40,17.50%,53.86951137235032,40.64165991003392,32.55%,35.42970912531018,29.12787487730384,21.64%,564.8762909695506,83.25100014917552,578.52%,79,51,54.90%,210,57,268.42%,0.6647658843229293,0.665344810511997,-0.09%,0,0
PPL Query: big5/query_string_on_message_filtered,"source = big5
| where `@timestamp` >= '2023-01-03 00:00:00' and `@timestamp` < '2023-01-03 10:00:00'
  AND query_string(['message'], 'monkey jackal bear')
| head 10",Non-Calcite,36.08% faster,487,471,48,36,33.33%,57.98810362735537,37.06418577633055,56.45%,36.71487490646541,28.2690841704607,29.88%,584.2983748298138,67.29733315296471,768.23%,100,46,117.39%,300,53,466.04%,0.6888106077984394,0.6528695953148971,5.51%,0,0
PPL Query: big5/query_string_on_message_filtered_sorted_num,"source = big5
| where `@timestamp` >= '2023-01-03 00:00:00' and `@timestamp` < '2023-01-03 10:00:00'
  AND query_string(['message'], 'monkey jackal bear')
| sort `@timestamp`
| head 10",Non-Calcite,29.82% faster,471,471,50,37,35.14%,56.430551646605544,39.60476309602839,42.48%,39.844665909186006,28.465582989156246,39.97%,561.9219159707427,304.11150003783405,84.77%,98,49,100.00%,170,77,120.78%,0.6661802798214886,0.6528695953148971,2.04%,0,0
PPL Query: big5/range,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` < '2023-01-03 00:00:00'
| head 10",Non-Calcite,28.06% faster,452,480,45,37,21.62%,52.89179731090347,38.04834190717278,39.01%,33.16733404062688,27.83062495291233,19.18%,679.873124929145,253.35920904763043,168.34%,81,47,72.34%,230,54,325.93%,0.6393067653488596,0.665344810511997,-3.91%,0,0
PPL Query: big5/range_field_conjunction_big_range_big_term_query,"source = big5
| where `process.name` = 'systemd' and `metrics.size` >= 1 and `metrics.size` <= 100
| head 10",Non-Calcite,24.56% faster,487,487,44,36,22.22%,51.62603380990423,38.94897911399297,32.55%,31.67625004425645,28.183750109747052,12.39%,355.4631669539958,275.8527919650078,28.86%,95,50,90.00%,290,74,291.89%,0.6888106077984394,0.675047755665297,2.04%,0,0
PPL Query: big5/range_field_conjunction_small_range_big_term_query,"source = big5
| where `metrics.size` >= 20 and `metrics.size` <= 30
| head 10",Non-Calcite,19.54% faster,464,490,43,37,16.22%,47.40010730065165,38.139555964866005,24.28%,32.07870805636048,26.802167063578963,19.69%,459.1827909462154,185.7127919793129,147.25%,76,48,58.33%,160,63,153.97%,0.6562795113315727,0.6792061607309969,-3.38%,0,0
PPL Query: big5/range_field_conjunction_small_range_small_term_query,"source = big5
| where `aws.cloudwatch.log_stream` = 'indigodagger' or (`metrics.size` >= 10 and `metrics.size` <= 20)
| head 10",Non-Calcite,24.84% faster,470,476,43,36,19.44%,50.72451356075149,38.12538813056127,33.05%,33.05254178121686,27.36025000922382,20.80%,983.372249873355,211.0083750449121,366.03%,77,46,67.39%,230,64,259.38%,0.6647658843229293,0.659800270424397,0.75%,0,0
PPL Query: big5/range_field_disjunction_big_range_small_term_query,"source = big5
| where `aws.cloudwatch.log_stream` = 'indigodagger' or (`metrics.size` >= 1 and `metrics.size` <= 100)
| head 10",Non-Calcite,25.64% faster,484,481,44,36,22.22%,51.882870248538126,38.58052129787538,34.48%,32.27858408354223,28.50083401426673,13.25%,313.93458298407495,260.93470910564065,20.31%,92,46,100.00%,250,64,290.62%,0.6845674213027612,0.666730945533897,2.68%,0,0
PPL Query: big5/range_numeric,"source = big5
| where `metrics.size` >= 20 and `metrics.size` <= 200
| head 10",Non-Calcite,22.17% faster,496,453,42,37,13.51%,49.96968434246693,38.88892052462838,28.49%,31.037416774779558,27.679041028022766,12.13%,592.0132091268897,321.98204193264246,83.87%,81,49,65.31%,280,63,344.44%,0.7015401672854743,0.6279191649206971,11.72%,0,0
PPL Query: big5/range_with_asc_sort,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` <= '2023-01-13 00:00:00'
| sort + `@timestamp`
| head 10",Non-Calcite,30.14% faster,468,485,47,37,27.03%,55.563647418907784,38.81699637769117,43.14%,35.78041703440249,25.956207886338234,37.85%,550.2824580762535,269.93270800448954,103.86%,92,48,91.67%,280,75,273.33%,0.6619370933258104,0.672275485621497,-1.54%,0,0
PPL Query: big5/range_with_desc_sort,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` <= '2023-01-13 00:00:00'
| sort - `@timestamp`
| head 10",Non-Calcite,33.78% faster,480,469,47,37,27.03%,59.42297848426582,39.34698738554901,51.02%,36.68108303099871,28.94245903007686,26.74%,978.7755419965833,322.6616671308875,203.34%,120,47,155.32%,290,68,326.47%,0.6789098393085234,0.6500973252710971,4.43%,0,0
PPL Query: big5/scroll,"source = big5
| head 10",Non-Calcite,18.52% faster,452,483,41,37,10.81%,47.06674334345863,38.35222802479707,22.72%,30.371250119060278,26.92700014449656,12.79%,310.72937487624586,75.17504110001028,313.34%,69,50,38.00%,180,63,185.71%,0.6393067653488596,0.669503215577697,-4.51%,0,0
PPL Query: big5/sort_keyword_can_match_shortcut,"source = big5 process.name=kernel
| sort + `meta.file`
| head 10",Non-Calcite,21.57% faster,498,510,64,54,18.52%,70.54975283440636,55.33145981174255,27.50%,52.70829098299146,44.33737485669553,18.88%,601.4394159428775,235.63437489792705,155.24%,100,65,53.85%,240,79,203.80%,0.704368958282593,0.7069288611689968,-0.36%,0,0
PPL Query: big5/sort_keyword_no_can_match_shortcut,"source = big5 process.name=kernel
| sort + `meta.file`
| head 10",Non-Calcite,20.88% faster,527,508,64,54,18.52%,69.6577964632452,55.11210574429321,26.39%,51.72608303837478,42.67966700717807,21.20%,366.1388331092894,264.45262506604195,38.45%,97,64,51.56%,230,75,206.67%,0.7453864277408164,0.7041565911251968,5.86%,0,0
PPL Query: big5/sort_numeric_asc,"source = big5
| sort + `metrics.size`
| head 10",Non-Calcite,20.69% faster,483,488,46,40,15.00%,52.40468683943739,41.56397310034067,26.08%,36.007167072966695,27.9749589972198,28.71%,435.01591589301825,250.86166616529226,73.41%,92,51,80.39%,190,86,120.93%,0.6831530258042018,0.676433890687197,0.99%,0,0
PPL Query: big5/sort_numeric_desc,"source = big5
| sort - `metrics.size`
| head 10",Non-Calcite,30.56% faster,450,443,47,41,14.63%,60.56821407439808,42.0606103504989,44.00%,34.85712502151728,31.716542085632682,9.90%,467.30737504549325,208.13312521204352,124.52%,120,51,135.29%,410,81,406.17%,0.6364779743517408,0.6140578147016972,3.65%,0,0
PPL Query: big5/term,"source = big5
| where `log.file.path` = '/var/log/messages/birdknight'
| head 10",Non-Calcite,22.40% faster,481,492,42,37,13.51%,50.35905231597781,39.07666117903148,28.87%,32.28395897895098,26.364416116848588,22.45%,340.7676247879863,247.8768341243267,37.47%,91,49,85.71%,250,80,212.50%,0.6803242348070829,0.6819784307747969,-0.24%,0,0
PPL Query: big5/terms_significant_1,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` < '2023-01-03 00:00:00'
| stats count() by `aws.cloudwatch.log_stream`, `process.name`
| head 10",Non-Calcite,28.73% faster,462,485,48,37,29.73%,54.261325217493166,38.67422391746923,40.30%,37.15025004930794,28.58616691082716,29.96%,525.7355410140008,206.84541598893702,154.17%,85,46,84.78%,180,69,160.87%,0.6534507203344538,0.672275485621497,-2.80%,0,0
PPL Query: big5/terms_significant_2,"source = big5
| where `@timestamp` >= '2023-01-01 00:00:00' and `@timestamp` < '2023-01-03 00:00:00'
| stats count() by `process.name`, `aws.cloudwatch.log_stream`
| head 10",Non-Calcite,31.92% faster,460,504,47,36,30.56%,56.881687471784815,38.723365912797846,46.89%,36.273041972890496,28.0712079256773,29.22%,1362.3062090482563,205.17150009982288,563.98%,97,48,102.08%,340,85,300.00%,0.650621929337335,0.6986120510375968,-6.87%,0,0
